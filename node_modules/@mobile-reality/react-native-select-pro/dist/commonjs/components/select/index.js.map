{"version":3,"names":["Select","forwardRef","props","ref","options","onSelect","onRemove","onDropdownOpened","onDropdownClosed","noOptionsText","placeholderText","animated","animationDuration","ANIMATION_DURATION","clearable","closeDropdownOnSelect","disabled","scrollToSelectedOption","hideSelectControlArrow","defaultOption","flatListProps","searchable","searchPattern","payload","multiSelection","NoOptionsComponent","OptionComponent","customLeftIconSource","placeholderTextColor","COLORS","GRAY","selectControlClearOptionA11yLabel","selectControlOpenDropdownA11yLabel","optionStyle","optionsListStyle","optionTextStyle","optionSelectedStyle","selectContainerStyle","selectControlArrowImageStyle","selectControlButtonsContainerStyle","selectControlClearOptionButtonStyle","selectControlClearOptionImageStyle","selectControlClearOptionButtonHitSlop","selectControlDisabledStyle","selectControlStyle","selectControlTextStyle","customLeftIconStyles","multiSelectionOptionStyle","state","dispatch","useReducer","reducer","initialData","isOpened","selectedOption","optionsData","openedPosition","searchValue","searchedOptions","searchInputRef","selectedOptionIndex","aboveSelectControl","selectedOptionTyped","containerRef","useRef","useEffect","Array","isArray","console","error","length","type","Action","SetOptionsData","isValidPassDefaultOption","hasOwnProperty","foundIndex","findIndex","value","SelectOption","useImperativeHandle","clear","open","current","Open","setPosition","close","Close","getState","hideKeyboardIfNeeded","blur","onPressOption","option","optionIndex","resolveOption","selectedOptionAsArray","foundSelectedOption","find","sOption","concat","sOptionIndex","map","item","index","some","undefined","filter","SetSearchValue","label","windowDimensions","useWindowDimensions","measure","_x","_y","width","height","pageX","pageY","listHeightFromProp","StyleSheet","flatten","maxHeight","optionHeightFromProp","optionHeight","getSize","size","sizeType","sizeFallback","ITEM_HEIGHT","screenSize","listHeight","MAX_HEIGHT_LIST","finalHeight","isOverflow","SetPosition","top","left","I18nManager","isRTL","onPressSelectControl","onOutsidePress","styles","relative","create","position","displayName"],"sources":["index.tsx"],"sourcesContent":["import React, {\n    ForwardedRef,\n    forwardRef,\n    RefObject,\n    useEffect,\n    useImperativeHandle,\n    useReducer,\n    useRef,\n} from 'react';\nimport {\n    I18nManager,\n    StyleSheet,\n    TextInput,\n    useWindowDimensions,\n    View,\n    ViewStyle,\n} from 'react-native';\n\nimport {\n    ANIMATION_DURATION,\n    COLORS,\n    ITEM_HEIGHT,\n    MAX_HEIGHT_LIST,\n} from '../../constants/styles';\nimport { getSize } from '../../helpers';\nimport { initialData, reducer } from '../../state/reducer';\nimport { Action } from '../../state/types';\nimport type {\n    OnOutsidePress,\n    OnPressOptionType,\n    OnPressSelectControlType,\n    OptionType,\n    SelectProps,\n    SelectRef,\n} from '../../types';\nimport { OptionsList } from '../options-list';\nimport { SelectControl } from '../select-control';\n\nexport const Select = forwardRef(\n    (props: SelectProps, ref: ForwardedRef<SelectRef>) => {\n        const {\n            // Required\n            options,\n            // Callbacks\n            onSelect,\n            onRemove,\n            onDropdownOpened,\n            onDropdownClosed,\n            // Texts\n            noOptionsText = 'No options',\n            placeholderText = 'Select...',\n            // Animations\n            animated = false,\n            animationDuration = ANIMATION_DURATION,\n            // Behaviour\n            clearable = true,\n            closeDropdownOnSelect = true,\n            disabled = false,\n            scrollToSelectedOption = true,\n            hideSelectControlArrow = false,\n            // Additional features\n            defaultOption,\n            flatListProps,\n            // Search\n            searchable = false,\n            searchPattern = (payload: string) => `(${payload})`,\n            // Multiselect\n            multiSelection = false,\n            // Custom components\n            NoOptionsComponent,\n            OptionComponent,\n            // Custom sources\n            customLeftIconSource,\n            // Colors\n            placeholderTextColor = COLORS.GRAY,\n            // Accessibility\n            selectControlClearOptionA11yLabel,\n            selectControlOpenDropdownA11yLabel,\n            // Styles\n            optionStyle,\n            optionsListStyle,\n            optionTextStyle,\n            optionSelectedStyle,\n            selectContainerStyle,\n            selectControlArrowImageStyle,\n            selectControlButtonsContainerStyle,\n            selectControlClearOptionButtonStyle,\n            selectControlClearOptionImageStyle,\n            selectControlClearOptionButtonHitSlop,\n            selectControlDisabledStyle,\n            selectControlStyle,\n            selectControlTextStyle,\n            customLeftIconStyles,\n            multiSelectionOptionStyle,\n        } = props;\n        const [state, dispatch] = useReducer(reducer, initialData);\n        const {\n            isOpened,\n            selectedOption,\n            optionsData,\n            openedPosition,\n            searchValue,\n            searchedOptions,\n            searchInputRef,\n            selectedOptionIndex,\n        } = state;\n        const { aboveSelectControl } = openedPosition;\n        const selectedOptionTyped = selectedOption as OptionType;\n\n        const containerRef = useRef<View>(null);\n\n        useEffect(() => {\n            if (!Array.isArray(options)) {\n                // eslint-disable-next-line no-console\n                console.error('You must pass array in the options prop');\n                return;\n            }\n\n            if (options.length > 0) {\n                dispatch({ type: Action.SetOptionsData, payload: options });\n\n                const isValidPassDefaultOption =\n                    defaultOption &&\n                    // eslint-disable-next-line no-prototype-builtins\n                    defaultOption.hasOwnProperty('value') &&\n                    // eslint-disable-next-line no-prototype-builtins\n                    defaultOption.hasOwnProperty('label');\n\n                if (isValidPassDefaultOption) {\n                    const foundIndex = options.findIndex(\n                        ({ value }) => value === defaultOption.value,\n                    );\n                    dispatch({\n                        type: Action.SelectOption,\n                        payload: {\n                            selectedOption: defaultOption,\n                            selectedOptionIndex: foundIndex,\n                        },\n                    });\n                }\n            }\n        }, [options]);\n\n        useImperativeHandle(ref, () => ({\n            clear: () => {\n                dispatch({\n                    type: Action.SelectOption,\n                    payload: { selectedOption: null, selectedOptionIndex: -1 },\n                });\n                dispatch({ type: Action.SetOptionsData, payload: options });\n                if (onRemove) {\n                    onRemove(selectedOption, selectedOptionIndex);\n                }\n            },\n            open: () => {\n                if (containerRef.current && !disabled) {\n                    dispatch({\n                        type: Action.Open,\n                    });\n                    setPosition();\n                }\n            },\n            close: () => {\n                dispatch({\n                    type: Action.Close,\n                });\n            },\n            getState: () => state,\n        }));\n\n        const hideKeyboardIfNeeded = () => {\n            // TODO: Better condition handling, however, typo error appears in every combination\n            if (\n                searchInputRef &&\n                (searchInputRef as RefObject<TextInput>).current\n            ) {\n                (searchInputRef as RefObject<TextInput>)?.current?.blur();\n            }\n        };\n\n        const onPressOption: OnPressOptionType = (\n            option: OptionType,\n            optionIndex: number,\n        ) => {\n            if (closeDropdownOnSelect) {\n                dispatch({ type: Action.Close });\n            }\n\n            const resolveOption = () => {\n                if (!multiSelection) {\n                    return {\n                        selectedOption: option,\n                        selectedOptionIndex: optionIndex,\n                    };\n                }\n\n                const selectedOptionAsArray = selectedOption as\n                    | OptionType[]\n                    | null;\n                const foundSelectedOption =\n                    selectedOptionAsArray &&\n                    selectedOptionAsArray.find(\n                        (selectedOption: OptionType) =>\n                            selectedOption.value === option.value,\n                    );\n\n                if (foundSelectedOption) {\n                    return {\n                        selectedOption: selectedOptionAsArray,\n                        selectedOptionIndex:\n                            typeof selectedOptionIndex === 'number'\n                                ? selectedOptionIndex\n                                : [...selectedOptionIndex],\n                    };\n                }\n\n                const sOption = selectedOptionAsArray\n                    ? selectedOptionAsArray.concat(option)\n                    : [option];\n\n                const sOptionIndex = optionsData\n                    .map((item, index) => {\n                        if (sOption.some(({ value }) => value === item.value)) {\n                            return index;\n                        }\n                        return undefined;\n                    })\n                    .filter((item) => item !== undefined) as number[];\n\n                return {\n                    selectedOption: sOption,\n                    selectedOptionIndex:\n                        sOptionIndex.length > 0 ? [...sOptionIndex] : -1,\n                };\n            };\n\n            dispatch({\n                type: Action.SelectOption,\n                payload: {\n                    selectedOption: resolveOption().selectedOption,\n                    selectedOptionIndex: resolveOption().selectedOptionIndex,\n                },\n            });\n\n            if (searchable) {\n                if (multiSelection) {\n                    dispatch({ type: Action.SetSearchValue, payload: '' });\n                } else {\n                    dispatch({\n                        type: Action.SetSearchValue,\n                        payload: option.label,\n                    });\n                }\n            }\n            dispatch({ type: Action.SetOptionsData, payload: options });\n            if (option) {\n                hideKeyboardIfNeeded();\n            }\n        };\n\n        const windowDimensions = useWindowDimensions();\n\n        const setPosition = () => {\n            if (containerRef.current) {\n                containerRef.current.measure(\n                    (_x, _y, width, height, pageX, pageY) => {\n                        const listHeightFromProp =\n                            StyleSheet.flatten(optionsListStyle)?.maxHeight;\n\n                        const optionHeightFromProp =\n                            StyleSheet.flatten(optionStyle)?.height;\n\n                        const optionHeight = getSize({\n                            size: optionHeightFromProp,\n                            sizeType: 'height',\n                            sizeFallback: ITEM_HEIGHT,\n                            screenSize: windowDimensions.height,\n                        });\n\n                        const listHeight = getSize({\n                            size: listHeightFromProp,\n                            sizeType: 'height',\n                            sizeFallback: MAX_HEIGHT_LIST,\n                            screenSize: windowDimensions.height,\n                        });\n\n                        const finalHeight =\n                            listHeight >= optionsData.length * optionHeight\n                                ? optionsData.length * optionHeight\n                                : listHeight;\n\n                        const isOverflow =\n                            pageY + height + finalHeight >\n                            windowDimensions.height;\n\n                        dispatch({\n                            type: Action.SetPosition,\n                            payload: {\n                                width,\n                                top: isOverflow\n                                    ? pageY - finalHeight\n                                    : pageY + height,\n                                left: I18nManager.isRTL\n                                    ? windowDimensions.width - width - pageX\n                                    : pageX,\n                                aboveSelectControl: isOverflow,\n                            },\n                        });\n                    },\n                );\n            }\n        };\n\n        const onPressSelectControl: OnPressSelectControlType = () => {\n            if (isOpened) {\n                dispatch({\n                    type: Action.Close,\n                });\n                return;\n            }\n            setPosition();\n            if (containerRef.current) {\n                dispatch({\n                    type: Action.Open,\n                });\n            }\n        };\n\n        const onOutsidePress: OnOutsidePress = () => {\n            dispatch({ type: Action.Close });\n            dispatch({ type: Action.SetOptionsData, payload: options });\n            if (searchable && selectedOptionTyped?.label) {\n                dispatch({\n                    type: Action.SetSearchValue,\n                    payload: selectedOptionTyped.label,\n                });\n            }\n            hideKeyboardIfNeeded();\n        };\n\n        useEffect(() => {\n            if (isOpened) {\n                onDropdownOpened?.();\n            } else {\n                onDropdownClosed?.();\n            }\n        }, [isOpened]);\n\n        return (\n            <View\n                style={[styles.relative, selectContainerStyle]}\n                onLayout={setPosition}\n            >\n                <SelectControl\n                    ref={containerRef}\n                    aboveSelectControl={aboveSelectControl}\n                    animated={animated}\n                    animationDuration={animationDuration}\n                    clearable={clearable}\n                    customLeftIconSource={customLeftIconSource}\n                    customLeftIconStyles={customLeftIconStyles}\n                    disabled={disabled}\n                    dispatch={dispatch}\n                    hideSelectControlArrow={hideSelectControlArrow}\n                    isOpened={isOpened}\n                    multiSelection={multiSelection}\n                    multiSelectionOptionStyle={multiSelectionOptionStyle}\n                    options={options}\n                    placeholderText={placeholderText}\n                    placeholderTextColor={placeholderTextColor}\n                    searchPattern={searchPattern}\n                    searchValue={searchValue}\n                    searchable={searchable}\n                    selectControlArrowImageStyle={selectControlArrowImageStyle}\n                    selectControlButtonsContainerStyle={\n                        selectControlButtonsContainerStyle\n                    }\n                    selectControlClearOptionA11yLabel={\n                        selectControlClearOptionA11yLabel\n                    }\n                    selectControlClearOptionButtonHitSlop={\n                        selectControlClearOptionButtonHitSlop\n                    }\n                    selectControlClearOptionButtonStyle={\n                        selectControlClearOptionButtonStyle\n                    }\n                    selectControlClearOptionImageStyle={\n                        selectControlClearOptionImageStyle\n                    }\n                    selectControlDisabledStyle={selectControlDisabledStyle}\n                    selectControlOpenDropdownA11yLabel={\n                        selectControlOpenDropdownA11yLabel\n                    }\n                    selectControlStyle={selectControlStyle}\n                    selectControlTextStyle={selectControlTextStyle}\n                    selectedOption={selectedOption}\n                    selectedOptionIndex={selectedOptionIndex}\n                    setPosition={setPosition}\n                    onPressSelectControl={onPressSelectControl}\n                    onSelect={onSelect}\n                    onRemove={onRemove}\n                />\n                <OptionsList\n                    NoOptionsComponent={NoOptionsComponent}\n                    OptionComponent={OptionComponent}\n                    aboveSelectControl={aboveSelectControl}\n                    animated={animated}\n                    animationDuration={animationDuration}\n                    flatListProps={flatListProps}\n                    isOpened={isOpened}\n                    multiSelection={multiSelection}\n                    noOptionsText={noOptionsText}\n                    openedPosition={openedPosition}\n                    optionSelectedStyle={optionSelectedStyle}\n                    optionStyle={optionStyle}\n                    optionTextStyle={optionTextStyle}\n                    optionsData={optionsData}\n                    optionsListStyle={optionsListStyle}\n                    scrollToSelectedOption={scrollToSelectedOption}\n                    searchValue={searchValue}\n                    searchable={searchable}\n                    searchedOptions={searchedOptions}\n                    selectedOption={selectedOption}\n                    selectedOptionIndex={selectedOptionIndex}\n                    onOutsidePress={onOutsidePress}\n                    onPressOption={onPressOption}\n                    onSelect={onSelect}\n                />\n            </View>\n        );\n    },\n);\n\ntype Styles = {\n    relative: ViewStyle;\n};\n\nconst styles = StyleSheet.create<Styles>({\n    relative: {\n        position: 'relative',\n    },\n});\n\nSelect.displayName = 'Select';\n"],"mappings":"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"}