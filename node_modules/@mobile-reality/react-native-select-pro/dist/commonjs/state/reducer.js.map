{"version":3,"names":["initialData","isOpened","selectedOption","selectedOptionIndex","searchValue","searchedOptions","searchInputRef","openedPosition","width","top","left","aboveSelectControl","optionsData","reducer","state","action","type","Action","Open","Close","SelectOption","payload","SetOptionsData","SetSearchValue","SearchOptions","regex","RegExp","searchPattern","toLowerCase","filter","option","test","label","SetSearchInputRef","SetPosition"],"sources":["reducer.ts"],"sourcesContent":["import { Action, ActionType, State } from './types';\n\nexport const initialData: State = {\n    isOpened: false,\n    selectedOption: null,\n    selectedOptionIndex: -1,\n    searchValue: '',\n    searchedOptions: [],\n    searchInputRef: null,\n    openedPosition: {\n        width: 0,\n        top: 0,\n        left: 0,\n        aboveSelectControl: false,\n    },\n    optionsData: [],\n};\n\nexport const reducer = (state: State, action: ActionType): State => {\n    switch (action.type) {\n        case Action.Open:\n            return {\n                ...state,\n                isOpened: true,\n            };\n        case Action.Close:\n            return {\n                ...state,\n                isOpened: false,\n            };\n        case Action.SelectOption:\n            return {\n                ...state,\n                selectedOption: action.payload.selectedOption,\n                selectedOptionIndex: action.payload.selectedOptionIndex,\n            };\n        case Action.SetOptionsData:\n            return {\n                ...state,\n                optionsData: action.payload,\n            };\n        case Action.SetSearchValue:\n            return {\n                ...state,\n                searchValue: action.payload,\n            };\n        case Action.SearchOptions: {\n            if (action.payload === '') {\n                return {\n                    ...state,\n                    searchedOptions: [],\n                };\n            }\n            const regex = new RegExp(\n                action.searchPattern(action.payload.toLowerCase()),\n            );\n            return {\n                ...state,\n                searchedOptions: state.optionsData.filter((option) =>\n                    regex.test(option.label.toLowerCase()),\n                ),\n            };\n        }\n        case Action.SetSearchInputRef:\n            return {\n                ...state,\n                searchInputRef: action.payload,\n            };\n        case Action.SetPosition:\n            return {\n                ...state,\n                openedPosition: { ...state.openedPosition, ...action.payload },\n            };\n    }\n};\n"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,WAAkB,GAAG;EAC9BC,QAAQ,EAAE,KADoB;EAE9BC,cAAc,EAAE,IAFc;EAG9BC,mBAAmB,EAAE,CAAC,CAHQ;EAI9BC,WAAW,EAAE,EAJiB;EAK9BC,eAAe,EAAE,EALa;EAM9BC,cAAc,EAAE,IANc;EAO9BC,cAAc,EAAE;IACZC,KAAK,EAAE,CADK;IAEZC,GAAG,EAAE,CAFO;IAGZC,IAAI,EAAE,CAHM;IAIZC,kBAAkB,EAAE;EAJR,CAPc;EAa9BC,WAAW,EAAE;AAbiB,CAA3B;;;AAgBA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAeC,MAAf,KAA6C;EAChE,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKC,aAAA,CAAOC,IAAZ;MACI,OAAO,EACH,GAAGJ,KADA;QAEHb,QAAQ,EAAE;MAFP,CAAP;;IAIJ,KAAKgB,aAAA,CAAOE,KAAZ;MACI,OAAO,EACH,GAAGL,KADA;QAEHb,QAAQ,EAAE;MAFP,CAAP;;IAIJ,KAAKgB,aAAA,CAAOG,YAAZ;MACI,OAAO,EACH,GAAGN,KADA;QAEHZ,cAAc,EAAEa,MAAM,CAACM,OAAP,CAAenB,cAF5B;QAGHC,mBAAmB,EAAEY,MAAM,CAACM,OAAP,CAAelB;MAHjC,CAAP;;IAKJ,KAAKc,aAAA,CAAOK,cAAZ;MACI,OAAO,EACH,GAAGR,KADA;QAEHF,WAAW,EAAEG,MAAM,CAACM;MAFjB,CAAP;;IAIJ,KAAKJ,aAAA,CAAOM,cAAZ;MACI,OAAO,EACH,GAAGT,KADA;QAEHV,WAAW,EAAEW,MAAM,CAACM;MAFjB,CAAP;;IAIJ,KAAKJ,aAAA,CAAOO,aAAZ;MAA2B;QACvB,IAAIT,MAAM,CAACM,OAAP,KAAmB,EAAvB,EAA2B;UACvB,OAAO,EACH,GAAGP,KADA;YAEHT,eAAe,EAAE;UAFd,CAAP;QAIH;;QACD,MAAMoB,KAAK,GAAG,IAAIC,MAAJ,CACVX,MAAM,CAACY,aAAP,CAAqBZ,MAAM,CAACM,OAAP,CAAeO,WAAf,EAArB,CADU,CAAd;QAGA,OAAO,EACH,GAAGd,KADA;UAEHT,eAAe,EAAES,KAAK,CAACF,WAAN,CAAkBiB,MAAlB,CAA0BC,MAAD,IACtCL,KAAK,CAACM,IAAN,CAAWD,MAAM,CAACE,KAAP,CAAaJ,WAAb,EAAX,CADa;QAFd,CAAP;MAMH;;IACD,KAAKX,aAAA,CAAOgB,iBAAZ;MACI,OAAO,EACH,GAAGnB,KADA;QAEHR,cAAc,EAAES,MAAM,CAACM;MAFpB,CAAP;;IAIJ,KAAKJ,aAAA,CAAOiB,WAAZ;MACI,OAAO,EACH,GAAGpB,KADA;QAEHP,cAAc,EAAE,EAAE,GAAGO,KAAK,CAACP,cAAX;UAA2B,GAAGQ,MAAM,CAACM;QAArC;MAFb,CAAP;EAlDR;AAuDH,CAxDM"}