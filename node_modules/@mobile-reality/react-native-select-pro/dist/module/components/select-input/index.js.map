{"version":3,"names":["React","useEffect","useRef","I18nManager","Keyboard","StyleSheet","TextInput","COLORS","FONT_SIZE","Action","SelectInput","disabled","isOpened","searchValue","searchPattern","placeholderText","onPressSelectControl","dispatch","setPosition","multiSelection","selectedOption","placeholderTextColor","selectControlTextStyle","searchInputRef","showSubscription","addListener","hideSubscription","type","SetSearchInputRef","payload","remove","onChangeText","Open","SetSearchValue","SearchOptions","resolvePlaceholder","Array","isArray","length","styles","text","marginRight","isRTL","create","fontSize","backgroundColor","DISABLED"],"sources":["index.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport {\n    I18nManager,\n    Keyboard,\n    StyleSheet,\n    TextInput,\n    TextStyle,\n} from 'react-native';\n\nimport { COLORS, FONT_SIZE } from '../../constants/styles';\nimport type { OptionalToRequired } from '../../helpers/types/OptionalToRequired';\nimport { Action, DispatchType, State } from '../../state/types';\nimport type {\n    OnPressSelectControlType,\n    OnSetPosition,\n    SelectProps,\n} from '../../types';\n\ntype SelectInputProps = OptionalToRequired<\n    Pick<State, 'isOpened' | 'searchValue' | 'selectedOption'> & {\n        dispatch: DispatchType;\n    } & Pick<\n            SelectProps,\n            | 'placeholderText'\n            | 'searchPattern'\n            | 'disabled'\n            | 'multiSelection'\n            | 'selectControlTextStyle'\n            | 'placeholderTextColor'\n        > & { onPressSelectControl: OnPressSelectControlType } & {\n            setPosition: OnSetPosition;\n        }\n>;\n\nexport const SelectInput = ({\n    disabled,\n    isOpened,\n    searchValue,\n    searchPattern,\n    placeholderText,\n    onPressSelectControl,\n    dispatch,\n    setPosition,\n    multiSelection,\n    selectedOption,\n    placeholderTextColor,\n    selectControlTextStyle,\n}: SelectInputProps) => {\n    const searchInputRef = useRef<TextInput>(null);\n\n    useEffect(() => {\n        const showSubscription = Keyboard.addListener('keyboardDidShow', () => {\n            setPosition();\n        });\n        const hideSubscription = Keyboard.addListener('keyboardDidHide', () => {\n            setPosition();\n        });\n        dispatch({\n            type: Action.SetSearchInputRef,\n            payload: searchInputRef,\n        });\n        return () => {\n            showSubscription.remove();\n            hideSubscription.remove();\n            dispatch({\n                type: Action.SetSearchInputRef,\n                payload: null,\n            });\n        };\n    }, []);\n\n    const onChangeText = (payload: string) => {\n        if (!disabled) {\n            if (!isOpened) {\n                dispatch({ type: Action.Open });\n            }\n            dispatch({\n                type: Action.SetSearchValue,\n                payload,\n            });\n            if (searchPattern) {\n                dispatch({\n                    type: Action.SearchOptions,\n                    searchPattern,\n                    payload,\n                });\n            }\n        }\n    };\n\n    const resolvePlaceholder = () => {\n        if (\n            multiSelection &&\n            Array.isArray(selectedOption) &&\n            selectedOption.length > 0\n        ) {\n            return '  ';\n        }\n        return placeholderText;\n    };\n\n    return (\n        <TextInput\n            ref={searchInputRef}\n            accessibilityLabel=\"Place text\"\n            editable={!disabled}\n            placeholder={resolvePlaceholder()}\n            placeholderTextColor={placeholderTextColor}\n            style={\n                disabled\n                    ? [\n                          styles.disabled,\n                          styles.text,\n                          multiSelection && { marginRight: 5 },\n                      ]\n                    : [styles.text, selectControlTextStyle]\n            }\n            textAlign={I18nManager.isRTL ? 'right' : 'left'}\n            value={searchValue}\n            onChangeText={onChangeText}\n            onPressIn={disabled ? () => null : onPressSelectControl}\n        />\n    );\n};\n\ntype Styles = {\n    text: TextStyle;\n    disabled: TextStyle;\n};\n\nconst styles = StyleSheet.create<Styles>({\n    text: {\n        fontSize: FONT_SIZE,\n    },\n    disabled: {\n        backgroundColor: COLORS.DISABLED,\n    },\n});\n"],"mappings":"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"}