{"version":3,"names":["Action","initialData","isOpened","selectedOption","selectedOptionIndex","searchValue","searchedOptions","searchInputRef","openedPosition","width","top","left","aboveSelectControl","optionsData","reducer","state","action","type","Open","Close","SelectOption","payload","SetOptionsData","SetSearchValue","SearchOptions","regex","RegExp","searchPattern","toLowerCase","filter","option","test","label","SetSearchInputRef","SetPosition"],"sources":["reducer.ts"],"sourcesContent":["import { Action, ActionType, State } from './types';\n\nexport const initialData: State = {\n    isOpened: false,\n    selectedOption: null,\n    selectedOptionIndex: -1,\n    searchValue: '',\n    searchedOptions: [],\n    searchInputRef: null,\n    openedPosition: {\n        width: 0,\n        top: 0,\n        left: 0,\n        aboveSelectControl: false,\n    },\n    optionsData: [],\n};\n\nexport const reducer = (state: State, action: ActionType): State => {\n    switch (action.type) {\n        case Action.Open:\n            return {\n                ...state,\n                isOpened: true,\n            };\n        case Action.Close:\n            return {\n                ...state,\n                isOpened: false,\n            };\n        case Action.SelectOption:\n            return {\n                ...state,\n                selectedOption: action.payload.selectedOption,\n                selectedOptionIndex: action.payload.selectedOptionIndex,\n            };\n        case Action.SetOptionsData:\n            return {\n                ...state,\n                optionsData: action.payload,\n            };\n        case Action.SetSearchValue:\n            return {\n                ...state,\n                searchValue: action.payload,\n            };\n        case Action.SearchOptions: {\n            if (action.payload === '') {\n                return {\n                    ...state,\n                    searchedOptions: [],\n                };\n            }\n            const regex = new RegExp(\n                action.searchPattern(action.payload.toLowerCase()),\n            );\n            return {\n                ...state,\n                searchedOptions: state.optionsData.filter((option) =>\n                    regex.test(option.label.toLowerCase()),\n                ),\n            };\n        }\n        case Action.SetSearchInputRef:\n            return {\n                ...state,\n                searchInputRef: action.payload,\n            };\n        case Action.SetPosition:\n            return {\n                ...state,\n                openedPosition: { ...state.openedPosition, ...action.payload },\n            };\n    }\n};\n"],"mappings":"AAAA,SAASA,MAAT,QAA0C,SAA1C;AAEA,OAAO,MAAMC,WAAkB,GAAG;EAC9BC,QAAQ,EAAE,KADoB;EAE9BC,cAAc,EAAE,IAFc;EAG9BC,mBAAmB,EAAE,CAAC,CAHQ;EAI9BC,WAAW,EAAE,EAJiB;EAK9BC,eAAe,EAAE,EALa;EAM9BC,cAAc,EAAE,IANc;EAO9BC,cAAc,EAAE;IACZC,KAAK,EAAE,CADK;IAEZC,GAAG,EAAE,CAFO;IAGZC,IAAI,EAAE,CAHM;IAIZC,kBAAkB,EAAE;EAJR,CAPc;EAa9BC,WAAW,EAAE;AAbiB,CAA3B;AAgBP,OAAO,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAeC,MAAf,KAA6C;EAChE,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKjB,MAAM,CAACkB,IAAZ;MACI,OAAO,EACH,GAAGH,KADA;QAEHb,QAAQ,EAAE;MAFP,CAAP;;IAIJ,KAAKF,MAAM,CAACmB,KAAZ;MACI,OAAO,EACH,GAAGJ,KADA;QAEHb,QAAQ,EAAE;MAFP,CAAP;;IAIJ,KAAKF,MAAM,CAACoB,YAAZ;MACI,OAAO,EACH,GAAGL,KADA;QAEHZ,cAAc,EAAEa,MAAM,CAACK,OAAP,CAAelB,cAF5B;QAGHC,mBAAmB,EAAEY,MAAM,CAACK,OAAP,CAAejB;MAHjC,CAAP;;IAKJ,KAAKJ,MAAM,CAACsB,cAAZ;MACI,OAAO,EACH,GAAGP,KADA;QAEHF,WAAW,EAAEG,MAAM,CAACK;MAFjB,CAAP;;IAIJ,KAAKrB,MAAM,CAACuB,cAAZ;MACI,OAAO,EACH,GAAGR,KADA;QAEHV,WAAW,EAAEW,MAAM,CAACK;MAFjB,CAAP;;IAIJ,KAAKrB,MAAM,CAACwB,aAAZ;MAA2B;QACvB,IAAIR,MAAM,CAACK,OAAP,KAAmB,EAAvB,EAA2B;UACvB,OAAO,EACH,GAAGN,KADA;YAEHT,eAAe,EAAE;UAFd,CAAP;QAIH;;QACD,MAAMmB,KAAK,GAAG,IAAIC,MAAJ,CACVV,MAAM,CAACW,aAAP,CAAqBX,MAAM,CAACK,OAAP,CAAeO,WAAf,EAArB,CADU,CAAd;QAGA,OAAO,EACH,GAAGb,KADA;UAEHT,eAAe,EAAES,KAAK,CAACF,WAAN,CAAkBgB,MAAlB,CAA0BC,MAAD,IACtCL,KAAK,CAACM,IAAN,CAAWD,MAAM,CAACE,KAAP,CAAaJ,WAAb,EAAX,CADa;QAFd,CAAP;MAMH;;IACD,KAAK5B,MAAM,CAACiC,iBAAZ;MACI,OAAO,EACH,GAAGlB,KADA;QAEHR,cAAc,EAAES,MAAM,CAACK;MAFpB,CAAP;;IAIJ,KAAKrB,MAAM,CAACkC,WAAZ;MACI,OAAO,EACH,GAAGnB,KADA;QAEHP,cAAc,EAAE,EAAE,GAAGO,KAAK,CAACP,cAAX;UAA2B,GAAGQ,MAAM,CAACK;QAArC;MAFb,CAAP;EAlDR;AAuDH,CAxDM"}